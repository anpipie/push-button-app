(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(t,e,a){t.exports=a(16)},16:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),s=a(3),i=a.n(s),l=a(1),c=a.n(l),r=a(4),u=a(5),m=a(6),h=a(8),p=a(7),v=a(9),d=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this,t))).savePointsLocally=function(){localStorage.setItem("points",a.state.totalPoints)},a.showReplayButton=function(){if(a.state.gameOver)return o.a.createElement("button",{onClick:a.handleReplayClick},"Aloita uusi peli")},a.handleReplayClick=function(){a.setState({gameOver:!1,totalPoints:20,message:""})},a.handleClick=Object(r.a)(c.a.mark((function t(){var e,n,o,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/play",t.next=3,fetch("/play",{method:"PUT"});case 3:return e=t.sent,t.next=6,e.json();case 6:if(n=t.sent,200===e.status){t.next=9;break}throw Error(n.message);case 9:o=n.points,s=n.clicks,i=a.state.totalPoints+o-1,a.setState({totalPoints:i,clicks:s,message:0===o?"Ei voittoa.":"Jee, voitit ".concat(o," pistett\xe4!")}),a.savePointsLocally(),a.state.totalPoints<=0&&a.setState({gameOver:!0,message:"Peli loppui!"});case 15:case"end":return t.stop()}}),t)}))),a.state={totalPoints:20,gameOver:!1,message:"",clicks:"muutaman"},a}return Object(v.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("points");null!==t&&t>0?this.setState({totalPoints:1*t,gameOver:!1}):this.setState({totalPoints:20})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Painikepeli"),o.a.createElement("div",null,"Pisteet: ",this.state.totalPoints),o.a.createElement("div",null,"Seuraava voitto on vain ",this.state.clicks," painalluksen p\xe4\xe4ss\xe4!"),o.a.createElement("div",null,o.a.createElement("button",{onClick:this.handleClick,disabled:this.state.gameOver},"Pelaa"),this.state.message),o.a.createElement("div",null,this.showReplayButton()))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.194c4817.chunk.js.map