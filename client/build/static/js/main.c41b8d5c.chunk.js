(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(t,e,a){t.exports=a(16)},16:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(4),i=a.n(o),r=a(1),c=a.n(r),l=a(2),u=a(5),m=a(6),p=a(8),h=a(7),v=a(9),d=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(p.a)(this,Object(h.a)(e).call(this,t))).setInitialPoints=Object(l.a)(c.a.mark((function t(){var e,n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/initvalue",t.next=3,fetch("/initvalue");case 3:return e=t.sent,t.next=6,e.json();case 6:if(n=t.sent,200===e.status){t.next=9;break}throw Error(n.message);case 9:s=n.init,a.setState({totalPoints:s});case 11:case"end":return t.stop()}}),t)}))),a.savePointsLocally=function(){localStorage.setItem("points",a.state.totalPoints)},a.showReplayButton=function(){if(a.state.gameOver)return s.a.createElement("button",{onClick:a.handleReplayClick},"Aloita uusi peli")},a.handleReplayClick=Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setInitialPoints(),a.setState({gameOver:!1,message:""});case 2:case"end":return t.stop()}}),t)}))),a.handleClick=Object(l.a)(c.a.mark((function t(){var e,n,s,o,i,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/play",t.next=3,fetch("/play",{method:"PUT"});case 3:return e=t.sent,t.next=6,e.json();case 6:if(n=t.sent,200===e.status){t.next=9;break}throw Error(n.message);case 9:s=n.points,o=n.clicks,i=n.won,r=a.state.totalPoints+s,a.setState({totalPoints:r,clicks:o,message:0===i?"Ei voittoa.":"Jee, voitit ".concat(i," pistett\xe4!")}),a.savePointsLocally(),a.state.totalPoints<=0&&a.setState({gameOver:!0,message:"Peli loppui!"});case 16:case"end":return t.stop()}}),t)}))),a.state={totalPoints:0,gameOver:!1,message:"",clicks:"muutaman"},a}return Object(v.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("points");null!==t&&t>0?this.setState({totalPoints:1*t,gameOver:!1}):this.setInitialPoints()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Painikepeli"),s.a.createElement("div",null,"Pisteet: ",this.state.totalPoints),s.a.createElement("div",null,"Seuraava voitto on vain ",this.state.clicks," painalluksen p\xe4\xe4ss\xe4!"),s.a.createElement("div",null,s.a.createElement("button",{onClick:this.handleClick,disabled:this.state.gameOver},"Pelaa"),this.state.message),s.a.createElement("div",null,this.showReplayButton()))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(d,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.c41b8d5c.chunk.js.map