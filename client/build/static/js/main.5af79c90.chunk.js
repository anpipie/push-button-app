(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(9),r=a.n(i),o=(a(15),a(6)),c=a.n(o),l=a(7),u=a(1),m=a(2),p=a(4),h=a(3),d=a(5),v=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"round"},s.a.createElement("div",{className:"round-top-title"},this.props.title1),s.a.createElement("div",{className:"round-middle-title"},this.props.title2),s.a.createElement("div",{className:"round-bottom-title"},this.props.title3))}}]),t}(s.a.Component);v.defaultProps={title1:"",title2:"",title3:""};var b=v,f=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.className},this.props.message)}}]),t}(s.a.Component);f.defaultProps={className:"result-message-container",message:""};var k=f,O=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.className},"Vinkki HR:lt\xe4:",s.a.createElement("br",null),"seuraava haastattelukutsu vain",s.a.createElement("div",null,this.props.middleText),"hakemuksen p\xe4\xe4ss\xe4!")}}]),t}(s.a.Component);O.defaultProps={className:"",middleText:""};var j=O,g=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("button",{className:this.props.className,onClick:this.props.eventHandler,disabled:this.props.disabled},this.props.text)}}]),t}(s.a.Component);g.defaultProps={className:"",text:"Click",disabled:!1};var y=g,E=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).setInitialPoints=Object(l.a)(c.a.mark((function e(){var t,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/initvalue",e.next=3,fetch("/initvalue");case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,200===t.status){e.next=9;break}throw Error(n.message);case 9:s=n.init,a.setState({totalPoints:s});case 11:case"end":return e.stop()}}),e)}))),a.savePointsLocally=function(){localStorage.setItem("points",a.state.totalPoints)},a.handleReplayClick=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setInitialPoints(),a.setState({gameOver:!1,message:""});case 2:case"end":return e.stop()}}),e)}))),a.handleClick=Object(l.a)(c.a.mark((function e(){var t,n,s,i,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/play",e.next=3,fetch("/play",{method:"PUT"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,200===t.status){e.next=9;break}throw Error(n.message);case 9:s=n.points,i=n.clicks,r=n.won,o=a.state.totalPoints+s,a.setState({totalPoints:o,clicks:i,pointsWon:"+"+r,message:0===r?"T\xe4ll\xe4 kertaa valintamme ei kohdistunut sinuun.":"Jee, kutsu haastatteluun! Sait lis\xe4\xe4 puhtia."}),a.savePointsLocally(),a.state.totalPoints<=0&&a.setState({gameOver:!0,message:"Puhti loppu. Peli p\xe4\xe4ttyi."});case 16:case"end":return e.stop()}}),e)}))),a.state={totalPoints:0,pointsWon:"",gameOver:!1,message:"Ty\xf6paikkajahti alkaa!",clicks:"muutaman"},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("points");null!==e&&e>0?this.setState({totalPoints:1*e,gameOver:!1}):this.setInitialPoints()}},{key:"render",value:function(){return s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"top-bar"}),s.a.createElement(b,{title1:"puhti",title2:this.state.totalPoints,title3:this.state.pointsWon}),s.a.createElement(k,{message:this.state.message,className:"result-message-container"}),s.a.createElement(j,{className:"clicks-message-container",middleText:this.state.clicks}),s.a.createElement("div",{className:"buttons-container"},s.a.createElement(y,{eventHandler:this.handleClick,disabled:this.state.gameOver,text:"Pelaa"}),this.state.gameOver?s.a.createElement(y,{eventHandler:this.handleReplayClick,text:"Aloita uusi peli",className:"replay-button"}):null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.5af79c90.chunk.js.map