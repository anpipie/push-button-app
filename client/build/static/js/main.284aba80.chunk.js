(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(t,e,a){t.exports=a(17)},15:function(t,e,a){},17:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(9),r=a.n(i),o=(a(15),a(6)),c=a.n(o),l=a(7),u=a(1),m=a(2),p=a(4),h=a(3),d=a(5),v=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"round"},s.a.createElement("div",{className:"round-top-title"},this.props.titleTop),s.a.createElement("div",{className:"round-middle-title"},this.props.titleMiddle),s.a.createElement("div",{className:"round-bottom-title"},this.props.titleBottom))}}]),e}(s.a.Component);v.defaultProps={title1:"",title2:"",title3:""};var b=v,f=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.className},this.props.message)}}]),e}(s.a.Component);f.defaultProps={className:"result-message-container",message:""};var k=f,O=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:this.props.className},"Vinkki HR:lt\xe4:",s.a.createElement("br",null),"seuraava haastattelukutsu vain",s.a.createElement("div",null,this.props.middleText),"hakemuksen p\xe4\xe4ss\xe4!")}}]),e}(s.a.Component);O.defaultProps={className:"",middleText:""};var j=O,g=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return s.a.createElement("button",{className:this.props.className,onClick:this.props.eventHandler,disabled:this.props.disabled},this.props.text)}}]),e}(s.a.Component);g.defaultProps={className:"",text:"Click",disabled:!1};var y=g,E=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(p.a)(this,Object(h.a)(e).call(this,t))).setInitialPoints=Object(l.a)(c.a.mark((function t(){var e,n,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/initvalue",t.next=3,fetch("/initvalue");case 3:return e=t.sent,t.next=6,e.json();case 6:if(n=t.sent,200===e.status){t.next=9;break}throw Error(n.message);case 9:s=n.init,a.setState({totalPoints:s});case 11:case"end":return t.stop()}}),t)}))),a.savePointsLocally=function(){localStorage.setItem("points",a.state.totalPoints)},a.handleReplayClick=Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.setInitialPoints(),a.setState({gameOver:!1,message:""});case 2:case"end":return t.stop()}}),t)}))),a.handleClick=Object(l.a)(c.a.mark((function t(){var e,n,s,i,r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/play",t.next=3,fetch("/play",{method:"PUT"});case 3:return e=t.sent,t.next=6,e.json();case 6:if(n=t.sent,200===e.status){t.next=9;break}throw Error(n.message);case 9:s=n.points,i=n.clicks,r=n.won,o=a.state.totalPoints+s,a.setState({totalPoints:o,clicks:i,pointsWon:"+"+r,message:0===r?"T\xe4ll\xe4 kertaa valintamme ei kohdistunut sinuun.":"Jee, kutsu haastatteluun! Sait lis\xe4\xe4 puhtia."}),a.savePointsLocally(),a.state.totalPoints<=0&&a.setState({gameOver:!0,message:"Puhti loppu. Peli p\xe4\xe4ttyi."});case 16:case"end":return t.stop()}}),t)}))),a.state={totalPoints:0,pointsWon:"",gameOver:!1,message:"Ty\xf6paikkajahti alkaa!",clicks:"muutaman"},a}return Object(d.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("points");null!==t&&t>0?this.setState({totalPoints:1*t,gameOver:!1}):this.setInitialPoints()}},{key:"render",value:function(){return s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"top-bar"}),s.a.createElement(b,{titleTop:"puhti",titleMiddle:this.state.totalPoints,titleBottom:this.state.pointsWon}),s.a.createElement(k,{message:this.state.message,className:"result-message-container"}),s.a.createElement(j,{className:"clicks-message-container",middleText:this.state.clicks}),s.a.createElement("div",{className:"buttons-container"},s.a.createElement(y,{eventHandler:this.handleClick,disabled:this.state.gameOver,text:"L\xe4het\xe4 hakemus",className:"play-button"}),this.state.gameOver?s.a.createElement(y,{eventHandler:this.handleReplayClick,text:"Aloita uusi peli",className:"replay-button"}):null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.284aba80.chunk.js.map